## 플로이드-워셜 알고리즘

> 플로이드-워셜 알고리즘은 음수 사이클이 없는 그래프 내의 각 모든 정점에서 각 모든 정점 까지의 최단거리를 모두 구할 수있는 알고리즘이다. 다익스트라 알고리즘과는 다르게 그래프에 음수 사이클만 존재하지 않으면, 음의 가중치를 갖는 간선이 존재해도 상관없다.

* 음수 사이클 : 사이클의 모든 경로를 지나 원래 지점으로 돌아 왔을 때, 최종적인 비용이 음수가 되는 경우

1. 초기 인접 행렬의 값은 자기 자신에서 자기 자신으로 가는 경우(=0)를 제외하고는 다른 노드로 갈 수 있는 방법이 없기 때문에 모두 매운 값으로 초기화해준다.
2. 1개의 간선으로 노드로 이동하는 경우는 주어진 그래프 간선의 연결상태를 체크한다. 만약, 간선이 여러가지 일 경우 최소비용으로 선택한다. => 여기까지 초기화 단계
3. 간선을 0,1---N개를 거친 경우의 최소 거리 비용을 비교하면서 인접행렬을 갱신하는 것이 플로이드 알고리즘의 매커니즘이다. 어차피 연결되어 있지 않는 노드는 초기에 매우 큰 값으로 초기화되어 있을 것이고, 간선의 개수를 차례로 고려하면서 최소 비용이 고려될 것이므로 노드에서 노드로 가는 거리는 항상 최소인 상태를 유지할 것이다.

```JAVA
1. //모든 경로 INF로 채우기 
  for(int[] arr : fw) { Arrays.fill(arr, INF); }

2. //플로이드 워샬 표 채우기
 for(int[] arr : results) { fw[arr[0]][arr[1]] = 1; }

3. //플로이드 워샬 알고리즘 
   // 노드를 1개부터 N개까지 거쳐가는 모든 경우 확인
	for (int k = 0; k < N; k++) {
			// 노드 i에서 j로 가는 경우.
			for (int i = 0; i < N; i++) {
				for (int j = 0; j < N; j++) {
					// k번째 노드를 거쳐가는 비용이 기존 비용보다 더 작은 경우 갱신
					// 또는 연결이 안되어있던 경우(INF) 연결 비용 갱신.
					dist[i][j] = Math.min(dist[i][j], dist[i][k] + dist[k][j]);
				}
			}
		}
```

**시간복잡도**

모든 노드(V)에 대해서 V x V 행렬을 갱신해주는 연산이므로 O(N^3)의 시간복잡도를 갖는다. 그렇기 때문에 입력의 크기가 100 정도만 되어도 백 만번의 연산이 수행되어야 한다. 따라서, 플로이드 워샬 알고리즘을 사용하는 경우는 입력의 크기를 확인해야한다.